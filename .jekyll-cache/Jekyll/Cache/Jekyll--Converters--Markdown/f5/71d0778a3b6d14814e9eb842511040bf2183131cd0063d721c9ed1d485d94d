I"Ò<h2 id="create-qcow2-disk-image">Create qcow2 disk image</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>qemu-img create <span class="nt">-f</span> qcow2 /var/lib/libvirt/images/ubuntu.qcow2 16G
</code></pre></div></div>

<h2 id="install-vm">Install VM</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>virt-install <span class="nt">--name</span> ubuntu <span class="se">\</span>
  <span class="nt">--ram</span> 1024 <span class="se">\</span>
  <span class="nt">--disk</span> <span class="nv">path</span><span class="o">=</span>/var/lib/libvirt/images/ubuntu.qcow2,format<span class="o">=</span>qcow2 <span class="se">\</span>
  <span class="nt">--vcpus</span> 2 <span class="se">\</span>
  <span class="nt">--accelerate</span> <span class="se">\</span>
  <span class="nt">--os-type</span> linux <span class="se">\</span>
  <span class="nt">--network</span> <span class="nv">bridge</span><span class="o">=</span>br0 <span class="se">\</span>
  <span class="nt">--graphics</span> none <span class="se">\</span>
  <span class="nt">--console</span> pty,target_type<span class="o">=</span>serial <span class="se">\</span>
  <span class="nt">--location</span> <span class="s1">'http://archive.ubuntu.com/ubuntu/dists/trusty/main/installer-amd64/'</span> <span class="se">\</span>
  <span class="nt">--extra-args</span> <span class="s1">'console=ttyS0,115200n8 serial'</span>
</code></pre></div></div>

<hr />
<ol>
  <li><a href="https://raymii.org/s/articles/virt-install_introduction_and_copy_paste_distro_install_commands.html">https://raymii.org/s/articles/virt-install_introduction_and_copy_paste_distro_install_commands.html</a></li>
</ol>
:ET