I"F<h2 id="prerequirements">Prerequirements</h2>
<p>Follow those steps on both servers:</p>

<ol>
  <li>Install GlusterFS packages:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>add-apt-repository ppa:gluster/glusterfs-5
apt update
apt <span class="nb">install</span> <span class="nt">-y</span> glusterfs-server
</code></pre></div>    </div>
  </li>
  <li>Create Mountpoints:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> <span class="nt">-p</span> /data /mnt/glusterfs
<span class="nb">echo</span> <span class="s2">"&lt;</span><span class="nv">$NODE_IP</span><span class="s2">&gt;:/gv0 /mnt/glusterfs glusterfs defaults,_netdev 0 0"</span> <span class="o">&gt;&gt;</span> /etc/fstab
</code></pre></div>    </div>
  </li>
</ol>

<h2 id="glusterfs">GlusterFS</h2>
<p>Run these commands on the first server only:</p>

<ol>
  <li>Add peer:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gluster peer probe &lt;<span class="nv">$NODE2_IP</span><span class="o">&gt;</span>
</code></pre></div>    </div>
  </li>
  <li>Create volume:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gluster volume create gv0 replica 2 transport tcp &lt;<span class="nv">$NODE1_IP</span><span class="o">&gt;</span>:/data &lt;<span class="nv">$NODE2_IP</span><span class="o">&gt;</span>:/data force
</code></pre></div>    </div>
  </li>
  <li>Start volume:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gluster volume start gv0
</code></pre></div>    </div>
  </li>
</ol>

<p>To mount the volumes run <code class="highlighter-rouge">mount /mnt/glusterfs</code> on each server.</p>

<hr />
:ET