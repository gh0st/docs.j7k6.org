I"r<p>The configuration is exactly the same on both servers.</p>

<ol>
  <li>Install <strong>strongSwan</strong>:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apt-get update
apt-get <span class="nb">install</span> <span class="nt">-y</span> strongswan
</code></pre></div>    </div>
  </li>
  <li>Add shared secret to <code class="highlighter-rouge">/etc/ipsec.secrets</code>:
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;$NODE1_IP&gt; &lt;$NODE2_IP&gt; : PSK "&lt;$SHARED_SECRET&gt;"
</code></pre></div>    </div>
  </li>
  <li>Add connection configuration to <code class="highlighter-rouge">/etc/ipsec.conf</code>:
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conn &lt;$CONNECTION_NAME&gt;
  type=transport
  authby=secret
  left=&lt;$NODE1_IP&gt;
  right=&lt;$NODE2_IP&gt;
  pfs=yes
  auto=start
</code></pre></div>    </div>
  </li>
  <li>Enable &amp; start service:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>systemctl <span class="nb">enable</span> <span class="nt">--now</span> strongswan
</code></pre></div>    </div>
  </li>
  <li>Check connection status:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ipsec statusall
</code></pre></div>    </div>
  </li>
</ol>

<hr />
<ol>
  <li><a href="https://blog.sprinternet.at/2016/03/ipsec-transport-mode-with-strongswan-on-debian-jessie/">https://blog.sprinternet.at/2016/03/ipsec-transport-mode-with-strongswan-on-debian-jessie/</a></li>
</ol>
:ET