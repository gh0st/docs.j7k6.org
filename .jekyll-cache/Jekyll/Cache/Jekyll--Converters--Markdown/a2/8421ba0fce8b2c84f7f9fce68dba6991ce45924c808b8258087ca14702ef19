I"Ë<ol>
  <li>Install <em>qemu</em>:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install </span>qemu
</code></pre></div>    </div>
  </li>
  <li>Download <em>qemu-rpi-kernel</em>:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wget https://raw.githubusercontent.com/dhruvvyas90/qemu-rpi-kernel/master/kernel-qemu-4.19.50-buster
</code></pre></div>    </div>
  </li>
  <li>Download <em>versatile-pb.dtb</em>:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wget https://raw.githubusercontent.com/dhruvvyas90/qemu-rpi-kernel/master/versatile-pb.dtb
</code></pre></div>    </div>
  </li>
  <li>Download <em>Raspbian</em>:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wget http://director.downloads.raspberrypi.org/raspbian_lite/images/raspbian_lite-2019-07-12/2019-07-10-raspbian-buster-lite.zip
unzip 2019-07-10-raspbian-buster-lite.zip
</code></pre></div>    </div>
  </li>
  <li>Run emulator:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>qemu-system-arm <span class="nt">-cpu</span> arm1176 <span class="nt">-m</span> 256 <span class="se">\</span>
  <span class="nt">-kernel</span> kernel-qemu-4.19.50-buster <span class="se">\</span>
  <span class="nt">-M</span> versatilepb <span class="se">\</span>
  <span class="nt">-dtb</span> versatile-pb.dtb <span class="se">\</span>
  <span class="nt">-no-reboot</span> <span class="se">\</span>
  <span class="nt">-nographic</span> <span class="se">\</span>
  <span class="nt">-append</span> <span class="s2">"dwc_otg.lpm_enable=0 root=/dev/sda2 rootfstype=ext4 elevator=deadline fsck.repair=yes rootwait"</span> <span class="se">\</span>
  <span class="nt">-drive</span> <span class="s2">"file=2019-07-10-raspbian-buster-lite.img,index=0,media=disk,format=raw"</span> <span class="se">\</span>
  <span class="nt">-net</span> user,hostfwd<span class="o">=</span>tcp::22222-:22 <span class="nt">-net</span> nic
</code></pre></div>    </div>
  </li>
  <li>Wait for login screenâ€¦</li>
  <li>Enable SSH service on Raspbian:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>systemctl <span class="nb">enable</span> <span class="nt">--now</span> ssh
</code></pre></div>    </div>
  </li>
  <li>SSH into emulated Raspbian from macOS host:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh <span class="nt">-p</span> 22222 pi@localhost
</code></pre></div>    </div>
  </li>
</ol>

<hr />
<ol>
  <li><a href="https://docs.j7k6.org/emulate-raspbian-qemu-macos/">https://docs.j7k6.org/emulate-raspbian-qemu-macos/</a></li>
  <li><a href="https://gist.github.com/tinjaw/5bc5527ff379e8dd299a0b67e2bc9b62">https://gist.github.com/tinjaw/5bc5527ff379e8dd299a0b67e2bc9b62</a></li>
</ol>
:ET